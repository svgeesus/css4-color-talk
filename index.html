<!DOCTYPE html>
<html lang="en" style="font-size: 16px">

<head>

    <meta charset="utf-8" />
    <title>The Evolution of CSS4 Color</title>
    <link href="../csss/slideshow.css" rel="stylesheet" />
    <link href="../csss/reusable.css" rel="stylesheet" />
    <link href="theme.css" rel="stylesheet" />
    <link href="talk.css" rel="stylesheet" />
    <script src="../prefixfree/prefixfree.min.js"></script>

</head>

<body class="language-css">

    <section id="for-browser" class="dark slide">
        <h1>Important</h1> This slide deck was created for use in a controlled environment, during a talk. It works best with a recent Firefox at 1920x1080. It WILL LIKELY NOT work correctly in other browsers, due to limited support for css variables at this time. But
        the other browsers will catch up. Right? Right??!!
    </section>

    <header id="intro" class="slide">
        <h1>
		The Evolution
     of <strong>CSS4 Color</strong>
  
	</h1>
        <h2><a href="http://svgees.us">Chris Lilley</a> <a href="http://twitter.com/svgeesus" 
	class="twitter">@svgeesus</a></h2>
        <p class="attribution"></p>
    </header>

    <section id="#intro">
        <section class="slide activity" id="hi">
            <img id="mypic" src="img/chris-av.jpg" alt="me">
            <p>Hello! <br /><span class="de-emphasize">I’m Chris or @svgeesus</span></p>
        </section>

        <section class="slide activity" id="w3c">
            <img src="img/w3c-logo.svg" />
            <p><a href="http://www.w3.org/People/#clilley">Technical Director at W3C <br /><span class="de-emphasize">(Interaction Domain)</span></a></p>
        </section>

        <section class="slide activity" id="svg">
            <img src="img/svg-logo.svg" />
            <p><a href="http://www.w3.org/Graphics/SVG/WG/wiki/Secret_Origin_of_SVG#Drivers_and_Deployment">Started SVG <span class="de-emphasize">(1996)</span></a></p>
            <p><a href="http://www.w3.org/2001/12/tag-pressrelease.html.en">SVG WG Chair <span class="de-emphasize">(1998-2006)</span></a></p>
        </section>

        <section class="slide activity" id="png">
            <img src="img/png-icon.png" />
            <p><a href="http://www.w3.org/TR/PNG/">Co-authored PNG <span class="de-emphasize">(1996)</span></a></p>
        </section>

        <section class="slide activity" id="webfonts">
            <h1><span class="web">Web</span>Fonts</h1>
            <ul>
                <li>Fonts WG Chair <span class="de-emphasize">(1996-1998)</span></li>
                <!-- all Member-only, sadly -->
                <li><a href="http://www.w3.org/Fonts/WG/">WOFF 1.0, WOFF 2.0</a></li>
                <li><a href="https://www.w3.org/community/svgopentype/">Chromatic Fonts</a></li>
            </ul>
        </section>

        <section class="slide activity" id="css">
            <img src="img/woolly.svg" />

            <ul>
                <li>CSS WG: <a href="https://lists.w3.org/Archives/Member/w3c-ac-members/2001JulSep/0007.html">Chair <span class="de-emphasize">(1997-2002)</span></a>, Staff contact</li>
                <li><a href="http://www.w3.org/TR/REC-CSS2/">CSS2 co-editor <span class="de-emphasize">(@font-face, descriptors)</span></a></li>
                <li><a href="http://www.w3.org/TR/css3-color/">CSS3 Color co-editor</a></li>
                <li><a href="http://www.w3.org/TR/css3-color/">CSS4 Color co-editor</a></li>
            </ul>
        </section>

        <!-- end of hello -->
    </section>

    <section class="slide darker" id="topics">
        <h1>Topics for today</h1>
        <ul class="delayed-children">
            <!-- filled via js -->
        </ul>
    </section>

    <section>
        <header class="image slide" style="background-image: url(img/Dispersive_Prism_Illustration_by_Spigget.jpg);" id="basics">
            <h1>Basics</h1>
        </header>

        <section class="dark slide split-definition" id="light">
            <img class="split-image" src="img/Dispersive_Prism_Illustration_by_Spigget_crop.jpg" alt="prism" />

            <dl class="delayed">
                <dt>Light</dt>
                <dd>wavelengths visible <span title="human">to humans</span></dd>
            </dl>
        </section>

        <section class="slide dark">
            <h1>Visible spectrum</h1>
            <div class="figure" style="margin-top:18vh">
                <img src="img/Linear_visible_spectrum.svg" style="width:90vw" alt="visible spectrum" />
            </div>
        </section>

        <section class="image slide top-heavy" style="background-image: url(img/Blausen_0388_Eye.png);" id="eye">
            <h1>Human eye</h1>
        </section>

        <section class="slide white" id="retinal-cells2">
            <h1>Retinal cells: rods &amp; cones</h1>
            <div class="figure">
                <img src="img/retinac.svg" alt="retinal cells" style="height:80vh" />
            </div>
        </section>


        <section class="slide dark" id="retinal-response">
            <h1>Cone response to light</h1>
            <div class="figure">
                <img src="img/cones_norm_bolder.svg" alt="cone responses" style="height:80vh" />
            </div>
        </section>


        <section class="slide dark" id="retinal-response-log">
            <h1>Cone responses (log scale)</h1>
            <div class="figure">
                <img src="img/cones_log.svg" alt="cone responses" style="height:80vh" />
            </div>
        </section>

        <section class="image slide bottom-heavy" style="background-image: url(img/Gray728.svg);" id="brain">
            <h1>Human brain</h1>
        </section>

        <!-- as an example of how the retina processes things -->
        <section class="slide dark black" id="opponent">
            <h1>Opponent colors</h1>
            <div class="figure">
                <img class="split-image" src="img/lab-40-50-0.svg" style="height:80vh" />
            </div>
        </section>

        <section class="slide white" id="opponent2">
            <h1>Opponent colors</h1>
            <div class="figure">
                <img class="split-image" src="img/dot.svg" style="height:80vh" />
            </div>
        </section>

        <section class="slide dark black" id="opponent3">
            <h1>Opponent colors</h1>
            <div class="figure">
                <img class="split-image" src="img/lab-40-0--48.svg" style="height:80vh" />
            </div>
        </section>

        <section class="slide white" id="opponent4">
            <h1>Opponent colors</h1>
            <div class="figure">
                <img class="split-image" src="img/dot.svg" style="height:80vh" />
            </div>
        </section>

        <section class="slide" id="white-adapt">
            <!-- as example of how the brain processes things -->
            <h1>What color is white?</h1>
            <div class="figure">
                <img src="img/tungsten.jpg" alt="white paper under tungsten light" style="height: 80vh" />
            </div>
        </section>

        <section class="slide dark" id="white-adapt-viral">
            <!-- as example of how the brain processes things -->
            <h1>What color is white?</h1>
            <div class="figure">
                <img src="img/dress-blue-black-white-gold.jpg" alt="the famous dress" style="height: 80vh" />
            </div>
        </section>


        <section class="dark slide definition" id="colordef">
            <dl>
                <dt>Color</dt>
                <!-- human is implied from earlier -->
                <dd style="margin-left:20%; margin-right:20%">a <strong>subjective sensation</strong> in the <em> brain</em> caused by <em>visible light</em> acting on the <em> eye</em></dd>
            </dl>
        </section>

        <section class="slide dark definition" id="whhaaat">
            <dl style="margin-left:15vw; margin-right:15vw; text-align: center">
                <dt>Whaaaaat!?!</dt>
                <dd class="delayed-children"><span>So we need, like, spectral data! </span><span>And electrodes in the brain 
                    and and and</span> <em>(collapses, sobbing)</em></dd>
            </dl>
            <h2 class="delayed" style="color:--orange; text-align: center">Science to the rescue!</h2>
        </section>

        <!-- end of basics -->

        <section>
            <header class="image slide" style="background-image: url(img/Quantum_Dots.jpg);" id="measurement">
                <h1>Measurement</h1>
            </header>

            <section class="slide dark" id="spectra">
                <h1>Spectral measurement</h1>
                <div class="figure">
                    <img src="img/fluor_spectrum.svg" alt="luminous efficiency function" style="height:80vh" />
                </div>
            </section>

            <section class="slide dark" id="lumious-efficiency">
                <h1>Brightness varies by wavelength</h1>
                <div class="figure">
                    <img src="img/vvdash.svg" alt="luminous efficiency function" style="height:80vh" />
                </div>
            </section>

            <section class="slide" data-import="retinal-response"></section>

            <section class="slide dark definition" id="nonspectral-match">
                <dl>
                    <dt>Visual match</dt>
                    <dd>Two colors that <em>look identical</em> can have <strong>wildly different spectra</strong></dd>
                </dl>
            </section>

            <!-- omit, figure broken, not clear why. re-do from mixerm.eps 
            <section class="slide white" id="colmatch">
                <h1>Color matching</h1>
                <div class="figure">
                    <img src="img/mixerm-oneside.svg" alt="color mixing" style="height:80vh" />
                </div>
            </section>
            -->

            <section class="slide white" id="colmatch2">

                <h1>Color matching</h1>

                <div class="figure">
                    <img src="img/mixerm.svg" alt="color mixing" style="height:80vh" />
                </div>
            </section>

            <section class="slide dark definition" id="trichromatic">
                <dl>
                    <dt>Matching color</dt>
                    <dd>Can be defined with just <strong>three numbers</strong>. Full <em>spectral data</em> is not needed.</dd>
                </dl>
            </section>

            <section class="slide dark definition" id="XYZ">
                <dl>
                    <dt>CIE XYZ</dt>
                    <dd class="delayed">Gets rid of the <em>negative numbers</em></dd>
                    <dd class="delayed">Y is the <em>luminance</em></dd>
                    <dd class="delayed"><strong>Additive</strong> colorspace</dd>
                </dl>
            </section>

            <!-- ? image slide with two stage lights, to talk about predicting color mixtures -->

            <section class="slide dark split-definition" id="XYZissues">
                <!-- 
                  Luminance gradient, showing colors bunched up. Does not account for white adaptation. Opponent colors hard to see. Absolute values awkward. Not perceptually uniform.-->
                <img class="split-image" src="img/Y-gradient.svg" alt="Luminance gradient" />
                <dl class="delayed-children">
                    <dt>XYZ issues</dt>
                    <dd>Not <strong>perceptually uniform</strong></dd>
                </dl>
            </section>

            <section class="slide dark definition" id="XYZissues2">
                <!-- 
                  Luminance gradient, showing colors bunched up. Does not account for white adaptation. Opponent colors hard to see. Absolute values awkward. Not perceptually uniform.-->
                <dl>
                    <dt>XYZ issues</dt>
                    <dd class="delayed"><strong>White adaptation</strong> not handled</dd>
                </dl>
            </section>

            <section class="slide" data-import="white-adapt"></section>

            <!-- end of measurement section -->
        </section>

        <section>
            <header class="image slide" style="background-image: url(img/Cielab-circle.png);" id="cielab">
                <h1>CIE Lab</h1>
            </header>

            <section class="slide" id="CIE-L">
                <h1>CIE Lightness (L)</h1>
                <p style="margin-top: 18vh; margin-left:auto; margin-right: auto; text-align: center;">
                    <img src="img/L-gradient.svg" alt="Luminance scale" style="width:90vw" />
                </p>
            </section>

            <section class="slide" id="CIE-Y">
                <h1>CIE Luminance (Y)</h1>
                <p style="margin-top: 18vh; margin-left:auto; margin-right: auto; text-align: center;">
                    <img src="img/Y-gradient.svg" alt="Luminance scale" style="width:90vw" />
                </p>
            </section>

            <section class="slide dark" id="CIE-ab">
                <h1>CIE a &amp; b</h1>

                <p style="margin-top: 8vh; margin-left:auto; margin-right: auto; text-align: center;">
                    <img src="img/Lab-a.svg" alt="Lab a scale" style="width:80vw" />
                    <img src="img/Lab-b.svg" alt="Lab b scale" style="width:80vw" />

                </p>
            </section>

            <section class="slide" id="CIE-Lab">
                <h1>CIE Lab</h1>
                <p class="figure" style="margin-top:0; margin-bottom: 0"><img src="img/Lab-Lab.svg" style="height:70vh" /></p>
            </section>


            <section class="slide white" id="CIE-CH">
                <h1>CIE Hue, Chroma (LCH)</h1>
                <p class="figure" style="margin-top:0; margin-bottom: 0;"><img src="img/Cielab-circle.png" style="height:70vh" /></p>
            </section>

            <section class="slide" id="HSLvsLCH">
                <h1>What about HSL?</h1>
                <p class="figure" style="margin-top:0; margin-bottom: 0;">
                    <img src="img/hsl.svg" alt="HSL diagram" style="height:70vh" />
                </p>
                <!-- look for better HSL diagram -->
            </section>

            <!-- recap slide: benefits of Lab -->

            <!-- end of cielab section -->
        </section>

        <section>
            <header class="image white slide" style="background-image: url(img/Spyder4Elite_calibrating.jpg); background-position: 50% 50%; background-repeat: no-repeat" id="displays">
                <h1>Color displays</h1>
            </header>

            <section class="slide dark definition" id="display-characterization">
                <dl>
                    <dt>Characterization</dt>
                    <dd><em>Measure the color</em> of <strong>red</strong>, <strong>green</strong> &amp; <strong>blue</strong> at <em>different levels</em> (0…255)</dd>
                </dl>
            </section>

            <section class="slide dark definition" id="display-calibration">
                <dl>
                    <dt>Calibration</dt>
                    <dd><em>Correct imbalances</em> to give <strong>neutral grays</strong>,
                        <strong>known whitepoint</strong></dd>
                </dl>
            </section>

            <section class="slide dark definition" id="display-gamut">
                <dl>
                    <dt>Gamut</dt>
                    <dd>The <em>range of colors</em> that can be <strong>correctly displayed</strong>.</dd>
                </dl>
            </section>

            <!-- chromaticity diagram diversion . Best if can follow up with macadam ellipses -->
            <section class="slide dark" id="chromaticity">
                <h1>Chromaticity diagram</h1>
                <p class="figure" style="margin-top:0; margin-bottom:0;"><img src="img/chromaticity_stub.svg" alt="CIE 1931 chromaticity diagram" style="height:70vh" /></p>
            </section>


            <section class="slide dark gamut" id="sRGB-gamut">
                <h1>sRGB gamut</h1>
                <iframe src="img/sRGB_x3d.html"></iframe>
            </section>

            <section class="slide dark gamut" id="mba-gamut">
                <h1>2013 MacBook Air</h1>
                <iframe src="img/MBA2013.x3d.html"></iframe>
            </section>

            <section class="slide dark gamut p3" id="dcip3-gamut">
                <h1>DCI P3 gamut</h1>
                <iframe src="img/dcip3_x3d.html"></iframe>
            </section>

            <!-- slide here saying, as long as the desired color is in gamut it can be produced. But different displays produce different colors for the same rgb values. 
            sRGB #f3d69b rgb(243, 214, 155)
            adobeRGB 234, 212, 156
            
            maybe the same rgb value on three displays, with patches
            then next slide
            the same color patches, on 3 displays, with 3 rgb values -->

            <section class="slide dark split-definition" id="ingamut">
                <dl>
                    <dt>Device dependent</dt>
                    <dd>Same RGB value gves different colors on different displays</dd>
                </dl>
                <dl class="delayed">
                    <dt>Device independent</dt>
                    <dd>Can be displayed accurately, if in gamut</dd>
                </dl>
            </section>

        </section>
        <!-- end of displays section -->

        <section>
            <header class="image white slide" style="background-image: url(img/4screens.svg); background-position: 50% 50%; background-repeat: no-repeat" id="cmyk">
                <h1>CMYK</h1>
            </header>

            <section class="slide dark definition" id="print-characterization">
                <dl>
                    <dt>Characterization</dt>
                    <dd><em>Measure the color</em> of <em>many hundreds 
                      of combinations</em> of <strong>cyan</strong>,
                        <strong>magenta</strong>, <strong>yellow</strong> &amp;
                        <strong>black</strong>.</dd>
                </dl>
            </section>

            <section class="slide image" style="background-image: url(img/patches.jpg);">
                <h1>Color patches</h1>
            </section>

            <section class="slide dark definition" id="print-calibration">
                <dl>
                    <dt>Calibration</dt>
                    <dd>Given a color, do <em>4D interpolation</em> on the <strong>nearest measured patch values</strong>.
                        <dd>Result is <strong>neutral grays</strong>,
                            <strong>accurate colors</strong></dd>
                </dl>
            </section>

            <section class="slide dark definition" id="ICC-profiles">
                <dl>
                    <dt>ICC profiles</dt>
                    <dd>Store the <em>measured data</em> of a device, allowing
                        <em>conversion</em> to a <strong>profile connection space</strong> (XYZ or Lab).</dd>
                </dl>
            </section>

        </section>

        <!-- end of cmyk section -->

        <section>
            <header class="image white slide" style="background-image: url(img/woolly.svg);" id="css4color">
                <h1>CSS4 Color</h1>
            </header>

            <section class="slide dark" id="before">
                <h1>CSS3 Color</h1>
                <pre style="margin-top:12vh"><code class="language-css" >fill: rgb(243, 214, 155);
// looks fine on wide gamut, 
// too pale on sRGB</code></pre>
                <p class="swatches"><span style="background-color: rgb(248, 207, 133)"> </span>
                    <span style="background-color: rgb(243, 214, 155)"> </span></p>
            </section>

            <section class="slide dark" id="MQhack">
                <h1>MQ4 hack</h1>
                <pre style="margin-top:12vh"><code class="language-css" >@media dci-p3 {
  fill: rgb(243, 214, 155);
}
// hack in a better match for sRGB
fill: rgb(248, 207, 133);
// ewww, really?</code></pre>
                <p class="swatches"><span style="background-color: rgb(248, 207, 133)"> </span>
                    <span style="background-color: rgb(248, 207, 133)"> </span></p>
            </section>

            <section class="slide dark" id="lch_is_better">
                <h1>LCH is device independent</h1>
                <pre style="margin-top:12vh"><code class="language-css" >fill: lch(85.5 43.1 79.1);
// browser calculates rgb for your screen</code></pre>
                <p class="swatches"><span style="background-color: rgb(248, 207, 133)"> </span>
                    <span style="background-color: rgb(248, 207, 133)"> </span>
                    <span style="background-color: rgb(248, 207, 133)"> </span>
                    <span style="background-color: rgb(248, 207, 133)"> </span>
                    <span style="background-color: rgb(248, 207, 133)"> </span></p>
            </section>

            <!-- slide here saying, in css4 we can now specify the exact color we want and, if the device can do it, it will be done. -->

            <section class="slide" id="css4color-lch">
                <h1>LCH in CSS Color 4</h1>
                <pre style="margin-top:12vh"><code class="language-css">background: lch(50 0 0);
border-color: lch(65 30 180, 50%);
color: lch(55.3 84.5 10.25, 1, #F06);</code></pre>
            </section>

            <section class="slide" id="css4color-lab">
                <h1>Lab in CSS Color 4</h1>
                <pre style="margin-top:12vh"><code class="language-css" >background: lab(50 0 0);
border-color: lab(65 46 -8, 50%);
color: lab(55.3 83.1 15.0, 1, #F06);</code></pre>
            </section>

            <section class="slide" id="css4color-icc1">
                <h1>ICC Color in CSS Color 4</h1>
                <p>Predefined <strong>dci-p3</strong> and <strong>rec2020</strong> wide gamut RGB spaces</p>
                <pre style="margin-top:12vh"><code class="language-css">background: color(dci-p3, 255 0 127);
background: color(dci-p3, 64 48 96, 33%);</code></pre>
                <p class="delayed" style="margin-top:2em">Media Queries 4 can check for dci-p3 or rec2020 support</p>
            </section>

            <section class="slide" id="css4color-icc2">
                <h1>CMYK: ICC Color in CSS Color 4</h1>
                <p>At-rule (like <em>@font-face</em>) points to ICC profile</p>
                <pre style="margin-top:12vh"><code class="language-css">background: color(foo, 0 206 190 77); 
@color-profile foo {
    src: url('http://example.org/fooprinter-coated.icc');
}</code></pre>
            </section>


            <section class="slide split-definition" id="caniuse">
                <h1>Can I use it?</h1>
                <dl class="delayed">
                    <dt>No.</dt>
                    <dd>This is <em>not</em> in the browsers yet</dd>
                </dl>

                <dl class="delayed">
                    <dt>Shhhh!!!</dt>
                    <dd><strong>First Public Working Draft</strong>, Tues 5 July 2016 </dd>
                </dl>
                <!-- end of css4 color section -->
            </section>


            <!--
            <section class="slide credits" id="image-credits">
                <h1>Image credits</h1>
                <dl>
                    <dt><a href="https://www.flickr.com/photos/davepc/6883820262/">Typography I/Helvetica</a></dt>
                    <dd>David Costa, cc-by-nc</dd>
                    <dt><a href="https://www.flickr.com/photos/fontshop/4134128747/">Periodic Table of Font Elements 1.1</a></dt>
                    <dd>FontShop, cc-by</dd>
                    <dt><a href="https://www.flickr.com/photos/zachheller/5116640316/">Speedometer</a></dt>
                    <dd>Zach Heller, cc-by</dd>
                    <dt><a href="https://www.flickr.com/photos/stinkiepinkie_infinity/2620802106/">Crystal Ball</a></dt>
                    <dd>Shawn Perez, cc-by</dd>
                    <dt><a href="https://www.flickr.com/photos/jcolman/2794559035/">Wooden type blocks at Fremont indoor Sunday market</a></dt>
                    <dd>Jonathon Colman, cc-by-nc-nd</dd>
                    <dt><a href="https://commons.wikimedia.org/wiki/File:12th-century_painters_-_Manuscript_of_Church_Law_-_WGA15726.jpg">Manuscript of Church Law</a></dt>
                    <dd>Unknown Miniaturist, English (active 1120s in Canterbury). Public domain.</dd>
                    <dt><a href="http://emojiparty.club">Emoji Party</a></dt>
                    <dd>Charlie Clarke (linked with an iframe)</dd>
                </dl>
            </section>
            -->

            <footer class="dark slide definition" id="links">
                <dl><dt>More online</dt>
                    <dd>
                        <p>Slides: <a href="https://github.com/svgeesus/evol-css4-color/">github.com/svgeesus/css4-color-talk/</a></p>
                        <p>Specification: <a href="https://drafts.csswg.org/css-color/">drafts.csswg.org/css-color/</a></p>
                        <p>Code: <a href="https://drafts.csswg.org/css-color/conversions.js">drafts.csswg.org/css-color/conversions.js</a></p>

                        <p style="font-size: 50%;">CSS Slideshow framework by Lea Verou: <a href="http://github.com/LeaVerou/CSSS">github.com/LeaVerou/CSSS</a></p>
                    </dd>
                </dl>
            </footer>

            <footer class="dark slide" id="goodbye">
                <img src="img/chris-av.jpg" alt="me" />
                <h1>Thank you!</h1>
                <ul>
                    <li><a href="mailto:chris@w3.org">chris@w3.org</a></li>
                    <li><a href="http://svgees.us">svgees.us</a></li>
                    <li><a href="http://twitter.com/svgeesus">@svgeesus</a></li>
                </ul>
            </footer>



            <script src="../csss/slideshow.js"></script>
            <script src="prism.js"></script>
            <script src="../csss/plugins/css-edit.js"></script>
            <script src="../csss/plugins/css-snippets.js"></script>
            <script src="../csss/plugins/css-controls.js"></script>
            <script src="../incrementable/incrementable.js"></script>

            <script src="talk.js"></script>

</body>

</html>